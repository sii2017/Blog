## 切片操作
切片操作可以从某个对象中抽取部分值。理论上只要条件表达式得当，可以通过单次或多次切片操作实现任意目标值的切取。   
本文旨在记录切片操作的内在逻辑。   
### Python可切片对象的索引方式  
索引包括正索引和负索引两种。以list对象为例：   
值    ：0 1 2 3 4 5 6 7   
正索引：0 1 2 3 4 5 6 7   
负索引：-8 -7 -6 -5 -4 -3 -2 -1   
可以看到，正索引是以位置0开始，一直到n-1   
而负索引，则是从-n开始，一直到-1。   
这两种索引都可以根据实际情况来进行使用。   
### Python切片操作的一般方式   
一个完整的切片表达式包括两个冒号：，用于分割三个参数。   
```Python
object[start: end: step]   
```   
- 第一个位置，start表示起始索引，如果该参数省略，则代表从起点开始取值。但是起点是最左边还是最右边，则取决于step是正还是负。如果step是正，那么起点是左侧，反之起点为右侧。   
- 第二个位置，stop表示终止索引（在取值时不包含stop，仅包含stop-1位置的值），如果该参数省略，则代表一直取值到终点；如果step为正，则终点为最右，如果step为负则重点为最左。   
- 第三个位置step，正负数均可，表示切取数据时的“步长”。step默认为1，即从左往右一个一个取值。   
如果只有一个：时，默认省去了第三个参数，而第三个参数step默认为1。   
如果一个：都没有，则默认start和end为同一个参数，即只切取单个数字。   
### 单切  
单切的形式，就是一个冒号都没有，仅提供一个数字作为切片元素。   
> 有点像c++的下标访问。   
   
```Python
list1 = [1, 2, 3, 4]   
print(list1[0])  # 1
print(list[-2])  # 3  
```   
单切很好理解。  
### 切取完整对象  
切取完整对象，常可以省略start和end。   
```Python
list1 = [1, 2, 3]   
list2 = list1[:]   # [1, 2, 3]
list3 = list1[::]   # [1, 2, 3]   
list4 = list1[::-1]  # [3, 2, 1]  
```   
值得注意的是，当我们直接将一个list赋值给另外一个list，这是引用类型的赋值，两个变量会关联在一起，改其中一个list的元素，另一个list也会跟着改变。  
通常我们要使用copy来生成另外一个。  
但是通过切片，我们可以得到另外一个新的list。   
### 正常切取操作  
无论，start和end为正，还是负，都代表了其在有序列数据中实际的位置。   
start和end可以正负混合使用，但是要注意的是：   
1 如果step为正，代表着从左往右走，因此start的位置必须在end的左侧，或与end重合。如果start的位置在end的右侧，那么啥都取不到。   
2 如果step为负，代表着从右往左走，因此strat的位置必须在end的右侧，或与end重合。如果start的位置在end的左侧，那么啥也取不到。    
```Python
list1 = [1, 2, 3]  
list2 = list1[0:2:1]    # [1, 2, 3]   
list3 = list1[-3:2:1]   # [1, 2, 3]   
list4 = list1[0:-1:1]   # [1, 2, 3]   
list5 = list1[0:-1:-1]	# [] 方向错了什么都取不到的   
list6 = list1[-1:0:-1]  # [3, 2, 1] 
```   
### 多层切片操作   
一个切片返回的是一个独立的对象，因此切片后再加切片相当于从该对象再次切片，这是被允许的。   
```Python
list1 = [0, 1, 2, 3, 4, 5, 6, 7]   
print(a[:8][2:5][-1:])   # 4
# 相当于：
a[:8]    # [0, 1, 2, 3, 4, 5, 6, 7]
a[:8][2:5]   # [2, 3, 4]
a[:8][2:5][-1:]   # [4]
```
理论上可无限次多层切片操作，只要上一次返回的是非空可切片对象即可。   
### 表达式作为切片参数
```Python
a[2+1:3*2:7%3] == a[3:6:1]
```  
### 常用切片操作   
#### 取偶数位置   
```Python
list1= [0, 1, 2, 4, 5, 6]   
list2= list1[::2]   
```  
很好理解，即取全部，但是步数为2。    
#### 取奇数位置  
```Python
list1= [0, 1, 2, 4, 5, 6]   
list2= list1[1::2]   
```  
从1开始取全部，步数仍为2。   
#### 拷贝整个对象  
由于python中的等于号，对于可变对象是以引用传递的，所以等于号经常无法完全独立拷贝整个对象，而只是传递一个引用。  
因此我们可以使用切片，来对对象进行完整的拷贝。   
```Python
list1 = [1, 2]   
list2 = list1[:]  
list3 = list1    
```
其中list2是完整独立的拷贝，而list3只是list1的引用。当list1改变，list3跟着改变，而list2则不变。   
通常我们也可以使用copy方法来进行拷贝。  
```Python
list1 = [1, 2]   
list2 = list1.copy()   
list3 = copy.copy(list1)   
```  
以上两种方法都可以进行拷贝，具体就不展开了，可以参考同目录下《Python的浅拷贝与深拷贝》。   
但是仍然有一个问题，以上几种方法，都属于浅拷贝，当我们遇到嵌套符合结构的元素，浅拷贝仅仅只能拷贝最外层的元素，内层的元素仍然是以引用的形式传递，这是要注意的。   
### 多维切片  
当一个元素并非一维的，而是多维的，那么怎么切片呢。  
举个例子，一个二维数组。   
```Python
list1 = 
[[0, 1, 2, 3, 4],
[5, 6, 7, 8, 9],  
[10, 11, 12, 13, 14],   
[15, 16, 17, 18, 19],  
[20, 21, 22, 23, 24]]   
```  
如何进行切片呢？我们通常根据维度，用逗号进行分离。  
比如二维数组，我们用一个逗号，分离两个维度。第一组数值为切片第一个维度，第二组数值为切片第二个维度。   
```Python
list2 = list1[1:3, 3:5]   
[[8, 9],  
[13, 14]]
```   
如上，第一个维度取了1-2行，第二个维度取了3-4列。   