# 格雷码
典型的二进制格雷码（Binary Gray Code）简称格雷码。    
> 因1953年公开的弗兰克·格雷（Frank Gray，18870913-19690523）专利“Pulse Code Communication”而得名，当初是为了通信，现在则常用于模拟－数字转换和位置－数字转换中。法国电讯工程师波特（Jean-Maurice-Émile Baudot，18450911-19030328）在1880年曾用过的波特码相当于它的一种变形。1941年George Stibitz设计的一种8元二进制机械计数器正好符合格雷码计数器的计数规律。    
   
格雷码（Gray code）曾用过Grey Code、葛莱码、葛兰码、格莱码、戈莱码、循环码、二进制反射码、最小差错码等名字，它们有的是错误的，有的易与其它名称混淆，建议不再使用它们。   
## 概述
在一组数的**二进制编码**中，若任意两个相邻的数的二进制编码只有一位二进制数不同，则称这种编码为格雷码（Gray Code）。   
另外由于最大数与最小数之间也仅一位数不同，即“首尾相连”，因此又称循环码或反射码。    
> 在数字系统中，常要求代码按一定顺序变化。例如，按自然数递增计数，若采用8421码，则数0111变到1000时四位均要变化，而在实际电路中，4位的变化不可能绝对同时发生，则计数中可能出现短暂的其它代码（1100、1111等）。在特定情况下可能导致电路状态错误或输入错误。使用格雷码可以避免这种错误。    
   
格雷码有多种编码形式。下面介绍一下平时会用到的四位典型格雷码。    
## 4位典型格雷码  
4位意味着整个二进制的位数为4。  
> 如果是2位典型格雷码的话，就很简单：   
> 00  
> 01   
> 11   
> 10   
> 变成10进制数则是0，1，3，2。作为二进制数每个相邻的数仅有一位变化，且首尾相连。   
  
不同位数的格雷码的数量是不同的，如上所示，2位格雷码的数量是4位，实际上，格雷码的数量与位数n是挂钩的，总数量位2的n次方。   
所以，4位格雷码的数量为16个，格雷码的第一个码总是0。   
0000    
0001    
0011    
0010     
0110    
0111    
0101    
0100    
1100    
1101    
1111    
1110    
1010    
1011    
1001    
1000    
## 位置规律
之前我通过这个数字想过各种排列的遍历未果，但是通过看这个数字，我们可以得到一个规律：格雷码的各个位数，上下都是对称的。   
最后一位：0 11 00 11 00 11 00 11 0。   
倒数第二位：00 1111 00 1111 00。   
倒数第三位：0000 11111111 0000。   
第一位：00000000 11111111。   
## 数学规律
```c
int GrayCode= i^(i>>1);    
```   