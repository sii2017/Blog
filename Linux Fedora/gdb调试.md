## gdb调试
在linux程序调成中gdb是最常用的工具。   
关于gdb的说明可以在linux下直接 man gdb或者gdb --help。   
如果需要程序支持gdb调试，在编译的时候需要加入-g的参数。   
```
gcc main.c -g   
```  
### gdb命令
gdb使用shell命令gdb来调用，一旦开始，就从终端读取命令直接gdb退出，你可以通过help命令获取帮助信息。   
可以不带任何参数或选项执行gdb命令，但是最常用的启动gdb的方式是带一个或者两个参数，指定一个可执行文件来作为参数:    
```
gdb program(gdb+可执行文件名称)    
```
也可以再gdb文件后面指定可执行文件 和 core文件的名称:    
```
gdb program core（gdb + 可执行文件 +core文件）     
```
下面是调试命令：   
```
break [file:]function/行数
```
设置一个断点在函数中(在文件中)。值得注意的是，设置好断点以后，需要输入c来继续进程的运行，不然会停在这里。   
```
run [arglist]    
```
启动程序带上指定的参数，run是直接运行程序。    
```
start   
```   
start与run相似，但是start运行到第一句命令后会停住，等你按n或s继续。   
```
bt    Backtrace
```
显示堆栈    
```
print expr   
p expr
```
显示表达式的值，b为缩写。    
```
p/x val   
```   
以十六进制显示val的内容，通常用来确认字符的编码是否被改变。  
```
continue/c      
```
继续执行你的程序(程序停住后，例如:在断点处停止)    
```
next/n  
```
执行程序的下一行代码(程序停止以后)；跨过任何当前行的函数调用。   
```
step/s  单步调试
```
执行程序的下一行（程序停住后），进入当前行的函数调用的内部。 
```
display disp   
```
跟踪查看某个变量,每次停下来都显示它的值。   
```
watch  
```
监视变量值的变化，每次变化都会提示。  
```
edit [file:]function
```
查看当前程序停在哪。   
```
list [file:]function
```
显示程序当前停住的代码行附近的代码  
```
help [name]
```
显示gdb命令的相关信息。     
```
quit  
```
退出gdb。    
### 后台进程调试
如果是后台进程调试的话，部分命令有所区分。   
首先获取该进程的id。   
```
ps -ef| grep oms   
```  
比如通过ps来查看oms这个进程的进程号。   
获取进程号以后通过attach来进入gdb，比如进程号为10000。   
```
gdb attach 10000   
```  
就能开始对后台进程进行gdb调试了。   
### 其他
#### print显示字符串不完整，最后以...省略
当gdb显示字符串不全是，用以下命令可以使其显示完整。   
```
set print element 0  
```  
再使用print则可以完整显示内容了。   